{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}HUSTRunner-发帖{% endblock %}

{% block head %}
{{ super() }}
<script type="text/javascript" charset="utf-8" src="{{ url_for('static', filename='ueditor/ueditor.config.js') }}"></script>
<script type="text/javascript" charset="utf-8" src="{{ url_for('static', filename='ueditor/ueditor.all.min.js') }}"> </script>
<script type="text/javascript" charset="utf-8" src="{{ url_for('static', filename='ueditor/lang/zh-cn/zh-cn.js') }}"></script>
{% endblock %}

{% block page_content %}
<div class="new-post">
    <form action="{{ url_for('forum.new_post') }}" method="post">
        {{ form.hidden_tag() }}
        {{ wtf.form_errors(form, hiddens="only") }}

        {{ wtf.form_field(form.title) }}
        {{ wtf.form_field(form.topic) }}
        <script type="text/plain" id="editor" style="width:100%;height:360px;"></script>
        <br>
        <button type="submit" class="btn btn-success">提交</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/javascript">
    //实例化编辑器
    var ue = UE.getEditor('editor', {
        serverUrl: "/upload/"
    });
</script>
{% endblock %}